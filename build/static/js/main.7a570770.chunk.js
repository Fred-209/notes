(this.webpackJsonppractice=this.webpackJsonppractice||[]).push([[0],{29:function(t,e,n){},30:function(t,e,n){"use strict";n.r(e);var r=n(15),c=n.n(r),a=n(14),o=n(3),u=n(7),s=n(4),i=n(6),p=n(2),j=function(t){var e=t.message;return null===e?null:Object(p.jsx)("div",{className:"error",children:e})},l=function(t){var e=t.note,n=t.toggleImportance,r=e.important?"make not important":"make important";return Object(p.jsxs)("li",{className:"note",children:[e.content,Object(p.jsx)("button",{onClick:n,children:r})]})},b=function(){return Object(p.jsxs)("div",{style:{color:"green",fontStyle:"italic",fontSize:16},children:[Object(p.jsx)("br",{}),Object(p.jsx)("em",{children:"Note app, Department of Computer Science, University of Helsinki 2023"})]})},f=n(32),O="http://localhost:3001/api/notes",d=function(){var t=Object(u.a)(Object(o.a)().mark((function t(){var e;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get(O);case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=function(){var t=Object(u.a)(Object(o.a)().mark((function t(e){var n;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.post(O,e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(u.a)(Object(o.a)().mark((function t(e,n){var r;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.put("".concat(O,"/").concat(e),n);case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),m={getAll:d,create:v,update:h},x=function(){var t=Object(i.useState)([]),e=Object(s.a)(t,2),n=e[0],r=e[1],c=Object(i.useState)(""),f=Object(s.a)(c,2),O=f[0],d=f[1],v=Object(i.useState)(!0),h=Object(s.a)(v,2),x=h[0],w=h[1],g=Object(i.useState)(null),k=Object(s.a)(g,2),y=k[0],S=k[1];Object(i.useEffect)((function(){Object(u.a)(Object(o.a)().mark((function t(){var e;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.getAll();case 3:e=t.sent,r(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert("The notes failed to load: ".concat(t.t0," ").concat(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}),[]);var N=function(){var t=Object(u.a)(Object(o.a)().mark((function t(e){var c,a;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),c={content:O,important:Math.random()<.5,id:n.length+1},t.prev=2,t.next=5,m.create(c);case 5:a=t.sent,r(n.concat(a)),d(""),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),alert("Failed to add new note: ".concat(t.t0," ").concat(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(u.a)(Object(o.a)().mark((function t(e){var c,u;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.find((function(t){return t.id===e})),t.prev=1,t.next=4,m.update(e,Object(a.a)(Object(a.a)({},c),{},{important:!c.important}));case 4:u=t.sent,r(n.map((function(t){return t.id!==e?t:u}))),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),S("Note '".concat(c.content,"' was already removed from the server")),setTimeout((function(){S(null)}),5e3),r(n.filter((function(t){return t.id!==e})));case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),I=x?n:n.filter((function(t){return t.important}));return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Notes"}),Object(p.jsx)(j,{message:y}),Object(p.jsx)("div",{children:Object(p.jsxs)("button",{onClick:function(){return w(!x)},children:["show ",x?"important":"all"]})}),Object(p.jsx)("ul",{children:I.map((function(t){return Object(p.jsx)(l,{note:t,toggleImportance:function(){return C(t.id)}},t.id)}))}),Object(p.jsxs)("form",{onSubmit:N,children:[Object(p.jsx)("input",{value:O,onChange:function(t){d(t.target.value)}}),Object(p.jsx)("button",{type:"submit",children:"save"})]}),Object(p.jsx)(b,{})]})};n(29);c.a.createRoot(document.getElementById("root")).render(Object(p.jsx)(x,{}))}},[[30,1,2]]]);
//# sourceMappingURL=main.7a570770.chunk.js.map